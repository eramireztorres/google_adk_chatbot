---
url: https://google.github.io/adk-docs/tools/third-party/agentql/
source: Google ADK Documentation
---

[adk-python](https://github.com/google/adk-python "adk-python")

[adk-go](https://github.com/google/adk-go "adk-go")

[adk-java](https://github.com/google/adk-java "adk-java")

* [Home](../../..)

  Home
* Build Agents




  Build Agents
  + [Get Started](../../../get-started/)

    Get Started
    - [Python](../../../get-started/python/)
    - [Go](../../../get-started/go/)
    - [Java](../../../get-started/java/)
  + [Build your Agent](../../../tutorials/)

    Build your Agent
    - [Multi-tool agent](../../../get-started/quickstart/)
    - [Agent team](../../../tutorials/agent-team/)
    - [Streaming agent](../../../get-started/streaming/)

      Streaming agent
      * [Python](../../../get-started/streaming/quickstart-streaming/)
      * [Java](../../../get-started/streaming/quickstart-streaming-java/)
    - [Visual Builder](../../../visual-builder/)
    - [Advanced setup](../../../get-started/installation/)
  + [Agents](../../../agents/)

    Agents
    - [LLM agents](../../../agents/llm-agents/)
    - [Workflow agents](../../../agents/workflow-agents/)

      Workflow agents
      * [Sequential agents](../../../agents/workflow-agents/sequential-agents/)
      * [Loop agents](../../../agents/workflow-agents/loop-agents/)
      * [Parallel agents](../../../agents/workflow-agents/parallel-agents/)
    - [Custom agents](../../../agents/custom-agents/)
    - [Multi-agent systems](../../../agents/multi-agents/)
    - [Agent Config](../../../agents/config/)
    - [Models & Authentication](../../../agents/models/)
  + [Tools for Agents](../../)

    Tools for Agents
    - [Built-in tools](../../built-in-tools/)
    - Gemini API tools




      Gemini API tools
      * [Computer use](../../gemini-api/computer-use/)
    - Google Cloud tools




      Google Cloud tools
      * [Overview](../../google-cloud-tools/)
      * [MCP Toolbox for Databases](../../google-cloud/mcp-toolbox-for-databases/)
      * [BigQuery Agent Analytics](../../google-cloud/bigquery-agent-analytics/)
      * [Code Execution with Agent Engine](../../google-cloud/code-exec-agent-engine/)
    - [Third-party tools](../)

      Third-party tools
      * AgentQL

        [AgentQL](./)



        Table of contents
        + [Use cases](#use-cases)
        + [Prerequisites](#prerequisites)
        + [Use with agent](#use-with-agent)
        + [Available tools](#available-tools)
        + [Best practices](#best-practices)
        + [Additional resources](#additional-resources)
      * [Bright Data](../bright-data/)
      * [Browserbase](../browserbase/)
      * [Exa](../exa/)
      * [Firecrawl](../firecrawl/)
      * [GitHub](../github/)
      * [Hugging Face](../hugging-face/)
      * [Notion](../notion/)
      * [Tavily](../tavily/)
      * [Agentic UI (AG-UI)](../ag-ui/)
  + [Custom Tools](../../../tools-custom/)

    Custom Tools
    - Function tools




      Function tools
      * [Overview](../../../tools-custom/function-tools/)
      * [Tool performance](../../../tools-custom/performance/)
      * [Action confirmations](../../../tools-custom/confirmation/)
    - [MCP tools](../../../tools-custom/mcp-tools/)
    - [OpenAPI tools](../../../tools-custom/openapi-tools/)
    - [Authentication](../../../tools-custom/authentication/)
* Run Agents




  Run Agents
  + [Agent Runtime](../../../runtime/)

    Agent Runtime
    - [Runtime Config](../../../runtime/runconfig/)
    - [API Server](../../../runtime/api-server/)
    - [Resume Agents](../../../runtime/resume/)
  + [Deployment](../../../deploy/)

    Deployment
    - [Agent Engine](../../../deploy/agent-engine/)
    - [Cloud Run](../../../deploy/cloud-run/)
    - [GKE](../../../deploy/gke/)
  + Observability




    Observability
    - [Logging](../../../observability/logging/)
    - [Cloud Trace](../../../observability/cloud-trace/)
    - [AgentOps](../../../observability/agentops/)
    - [Arize AX](../../../observability/arize-ax/)
    - [Freeplay](../../../observability/freeplay/)
    - [Monocle](../../../observability/monocle/)
    - [Phoenix](../../../observability/phoenix/)
    - [W&B Weave](../../../observability/weave/)
  + [Evaluation](../../../evaluate/)

    Evaluation
    - [Criteria](../../../evaluate/criteria/)
    - [User Simulation](../../../evaluate/user-sim/)
  + [Safety and Security](../../../safety/)

    Safety and Security
* Components




  Components
  + [Technical Overview](../../../get-started/about/)
  + [Context](../../../context/)

    Context
    - [Context caching](../../../context/caching/)
    - [Context compression](../../../context/compaction/)
  + [Sessions & Memory](../../../sessions/)

    Sessions & Memory
    - [Session](../../../sessions/session/)
    - [State](../../../sessions/state/)
    - [Memory](../../../sessions/memory/)
    - [Vertex AI Express Mode](../../../sessions/express-mode/)
  + [Callbacks](../../../callbacks/)

    Callbacks
    - [Types of callbacks](../../../callbacks/types-of-callbacks/)
    - [Callback patterns](../../../callbacks/design-patterns-and-best-practices/)
  + [Artifacts](../../../artifacts/)

    Artifacts
  + [Events](../../../events/)

    Events
  + [Apps](../../../apps/)

    Apps
  + [Plugins](../../../plugins/)

    Plugins
    - [Reflect and retry](../../../plugins/reflect-and-retry/)
  + [MCP](../../../mcp/)

    MCP
  + [A2A Protocol](../../../a2a/)

    A2A Protocol
    - [Introduction to A2A](../../../a2a/intro/)
    - A2A Quickstart (Exposing)




      A2A Quickstart (Exposing)
      * [Python](../../../a2a/quickstart-exposing/)
      * [Go](../../../a2a/quickstart-exposing-go/)
    - A2A Quickstart (Consuming)




      A2A Quickstart (Consuming)
      * [Python](../../../a2a/quickstart-consuming/)
      * [Go](../../../a2a/quickstart-consuming-go/)
  + [Bidi-streaming (live)](../../../streaming/)

    Bidi-streaming (live)
    - [Custom Audio Bidi-streaming app sample (WebSockets)](../../../streaming/custom-streaming-ws/)
    - [Bidi-streaming development guide series](../../../streaming/dev-guide/part1/)
    - [Streaming Tools](../../../streaming/streaming-tools/)
    - [Configurating Bidi-streaming behaviour](../../../streaming/configuration/)
  + Grounding




    Grounding
    - [Understanding Google Search Grounding](../../../grounding/google_search_grounding/)
    - [Understanding Vertex AI Search Grounding](../../../grounding/vertex_ai_search_grounding/)
* Reference




  Reference
  + [API Reference](../../../api-reference/)

    API Reference
    - [Python ADK](../../../api-reference/python/)
    - [Go ADK](https://pkg.go.dev/google.golang.org/adk)
    - [Java ADK](../../../api-reference/java/)
    - [CLI Reference](../../../api-reference/cli/)
    - [Agent Config reference](../../../api-reference/agentconfig/)
    - [REST API](../../../api-reference/rest/)
  + [Community Resources](../../../community/)
  + [Contributing Guide](../../../contributing-guide/)

Table of contents

* [Use cases](#use-cases)
* [Prerequisites](#prerequisites)
* [Use with agent](#use-with-agent)
* [Available tools](#available-tools)
* [Best practices](#best-practices)
* [Additional resources](#additional-resources)

# AgentQL[¶](#agentql "Permanent link")

The [AgentQL MCP Server](https://github.com/tinyfish-io/agentql-mcp) connects
your ADK agent to [AgentQL](https://www.agentql.com/). AgentQL is a semantic
extraction engine that queries web elements based on their meaning rather than
their CSS or XPath selectors. This functionality allows agents to retrieve
specific data points from web pages, PDFs, and authenticated sessions using
natural language definitions.

## Use cases[¶](#use-cases "Permanent link")

* **Resilient Web Extraction**: Extract data from dynamic websites using natural
  language descriptions. This feature allows your agent to reliably gather
  information from sites that frequently update their layout or CSS without
  breaking.
* **Data Normalization**: Convert unstructured web pages into clean, predictable
  JSON formats. This capability enables your agent to instantly normalize data
  from different sources (like multiple job boards or shopping sites) into a
  single schema.

## Prerequisites[¶](#prerequisites "Permanent link")

* Create an [API Key](https://dev.agentql.com/sign-in) in AgentQL. Refer to the
  [documentation](https://docs.agentql.com/quick-start) for more information.

## Use with agent[¶](#use-with-agent "Permanent link")

Local MCP Server

```python
from google.adk.agents import Agent
from google.adk.tools.mcp_tool.mcp_session_manager import StdioConnectionParams
from google.adk.tools.mcp_tool.mcp_toolset import MCPToolset
from mcp import StdioServerParameters

AGENTQL_API_KEY = "YOUR_AGENTQL_API_KEY"

root_agent = Agent(
    model="gemini-2.5-pro",
    name="agentql_agent",
    instruction="Help users get information from AgentQL",
    tools=[
        MCPToolset(
            connection_params=StdioConnectionParams(
                server_params = StdioServerParameters(
                    command="npx",
                    args=[
                        "-y",
                        "agentql-mcp",
                    ],
                    env={
                        "AGENTQL_API_KEY": AGENTQL_API_KEY,
                    }
                ),
                timeout=300,
            ),
        )
    ],
)
```

## Available tools[¶](#available-tools "Permanent link")

| Tool | Description |
| --- | --- |
| `extract-web-data` | Extract structured data from a given 'url', using 'prompt' as a description of actual data and its fields to extract |

## Best practices[¶](#best-practices "Permanent link")

To ensure accurate extraction, follow these guidelines when prompting the agent:

* **Describe the data, not the element**: Avoid visual descriptions (e.g., "the
  blue button"). Instead, describe the data entity (e.g., "the submit button" or
  "the product price").
* **Define the hierarchy**: If extracting a list, explicitly instruct the agent
  to look for a collection of items and define the fields required for each
  item.
* **Filter semantically**: You can instruct the tool to ignore specific data
  types (e.g., "exclude ads and navigation links") within the prompt itself.

## Additional resources[¶](#additional-resources "Permanent link")

* [AgentQL MCP Server Documentation](https://docs.exa.ai/reference/exa-mcp)
* [AgentQL MCP Server Repository](https://github.com/tinyfish-io/agentql-mcp)

Back to top